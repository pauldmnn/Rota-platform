{% extends 'base.html' %}

{% block title %}Manage Requests{% endblock title %}

{% block content %}
<div class="container mt-5">
    <h2 class="mb-4">Manage Requests</h2>
    <form method="post">
        {% csrf_token %}
        {% for req in requests %}
        <div class="border p-3 mb-3 rounded bg-light">
            <p><strong>{{ req.user.username }}</strong> requested <strong>{{ req.requested_day }}</strong></p>
            <p>Status: {{ req.status }}</p>
            <textarea name="comment" placeholder="Comment (optional)" class="form-control mb-3"></textarea>
            <input type="hidden" name="request_id" value="{{ req.id }}">
            <button name="action" value="approve" class="btn btn-success me-2">Approve</button>
            <button name="action" value="refuse" class="btn btn-danger">Refuse</button>
        </div>
        {% endfor %}
    </form>
</div>
{% endblock content %}
